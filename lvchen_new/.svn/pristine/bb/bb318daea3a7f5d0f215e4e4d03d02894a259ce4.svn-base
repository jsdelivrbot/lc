{"version":3,"sources":["../../src/pages/grantMarket/shoppers-ranking/shoppers-ranking.module.ts","../../src/pages/grantMarket/shoppers-ranking/shoppers-ranking.ts"],"names":[],"mappings":"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","file":"56.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShoppersRankingPage } from './shoppers-ranking';\n\n@NgModule({\n  declarations: [\n    ShoppersRankingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ShoppersRankingPage),\n  ],\n})\nexport class ShoppersRankingPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/shoppers-ranking/shoppers-ranking.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AppService } from '../../../providers/service-public-service/service-public-service';\nimport { Content } from 'ionic-angular';\nimport { ViewChild } from '@angular/core';\nimport { ModalController } from 'ionic-angular/components/modal/modal-controller';\n\n/**\n * Generated class for the ShoppersRankingPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-shoppers-ranking',\n  templateUrl: 'shoppers-ranking.html',\n})\nexport class ShoppersRankingPage {\n  @ViewChild(Content) content: Content;\n  private storeSelected: string = '';\n  public type = false;\n  public totalA:string;\n  public totalB:string;\n  public totalC:string;\n  public data = [];\n  public i = 1;\n  public refresh = true;\n  // select store\n  public storeMap;\n  public storeMapLength: boolean;\n  // 月份\n  public monthly = [];\n  // 导购全国排名\n  public shopperRanking: number = 1;\n  // 销售额平均数\n  public averageAmount: number = 0;\n  // 我的销售额\n  public userAmount: number = 0;\n  // 中位数销售额\n  public medianAmount: number = 0;\n  // 销售额百分比\n  public percentage: string = '';\n  // 上一名\n  public distanceLast: number = 0;\n  // 与第一名相差\n  public distanceFirst: number = 0;\n  // 导购新会员排名\n  public memshopperRanking: number = 1;\n  // 销售额平均数\n  public memaverageAmount: number = 0;\n  // 我的销售额\n  public memuserAmount: number = 0;\n  // 中位数销售额\n  public memmedianAmount: number = 0;\n  // 销售额百分比\n  public mempercentage: string = '';\n  // 上一名\n  public memdistanceLast: number = 0;\n  // 与第一名相差\n  public memdistanceFirst: number = 0;\n  // 本身的storeId\n  public storeId:any;\n  public shopperInfoTop:any='0px';\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public appService: AppService,\n    public modal:ModalController) {\n\n      this.appService.getItem('curStore',val=>{\n        this.storeId=val['id']\n        console.log(this.storeId)\n      })\n    this.RankingData(this.i)\n\n  }\n  Store() {\n    this.i = 1;\n    this.data = [];\n    this.monthly = [];\n    this.content.scrollToTop(0);\n    this.RankingData(this.i, this.storeSelected);\n  }\n\n  doInfinite($event) {\n    this.RankingData(this.i, this.storeSelected, $event);\n  }\n  RankingData(i: number, storeId?, $event?): void {\n\n    const obj={ page: i, 'storeId': storeId?Number(storeId):Number(this.storeId),rows:20}\n    this.appService.httpPost('lookGuideSalesRankings.api', obj, data => {\n      console.log(data);\n      this.type = data['type'];\n      console.log(this.type)\n      if (data['type'] == 2) {\n        this.refresh = false;\n        console.log(this.refresh)\n        this.shopperRanking = data['sort'] || 1;\n        this.averageAmount = data['averageAmount'] || 0;\n        this.userAmount = data['sumAmount'] || 0;\n        this.medianAmount = data['medianAmount'] || 0;\n        this.distanceFirst = data['distancefirst'] || 0;\n        this.distanceLast = data['distanceLast'] || 0;\n        this.percentage = '' + (data['percentage'] || 0) + '%';\n        this.memshopperRanking = data['memsort'] || 1;\n        this.memaverageAmount = data['memaverageAmount'] || 0;\n        this.memuserAmount = data['memsumAmount'] || 0;\n        this.memmedianAmount = data['memmedianAmount'] || 0;\n        this.memdistanceFirst = data['memdistancefirst'] || 0;\n        this.memdistanceLast =  data['memdistanceLast'] || 0;\n        this.mempercentage = '' + (data['mempercentage'] || 0) + '%';\n        console.log(this.percentage)\n      }\n      if (data['type'] == 1) {\n        if (i == 1) {\n          //  重置content大小\n\n          this.OrgUser();\n          this.content.resize();\n          //  第一页\n          this.totalA = data['A'];\n          this.totalB = data['B'];\n          this.totalC = data['C'];\n          data['day'].forEach(element => {\n            this.monthly.unshift(element.substr(-2).replace(/0/, ''))\n          })\n        }\n        if (data['guideSorts'].length >= 20) {\n          this.data = this.data.concat(data['guideSorts'] || [])\n\n          this.i++;\n          if ($event) {\n            $event.complete();\n          }\n\n        } else {\n\n          this.refresh = false;\n        }\n\n      }\n    })\n  }\n  // 判断是否为燕子坊总部\n  OrgUser() {\n    this.appService.httpPost('findOrgUser.api', {}, data => {\n      this.storeMap = data['orgMap'] || [];\n      this.storeMapLength = this.storeMap.length > 0 ? true : false;;\n    })\n  }\n  scanShopInfo(e,f,k){\n    console.log(e+'/'+f+'/'+k)\n   let modal= this.modal.create('ShopFromPage',{id:e,storeDesc:f,orgNames:k});\n   modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/shoppers-ranking/shoppers-ranking.ts"],"sourceRoot":""}