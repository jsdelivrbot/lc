{"version":3,"sources":["../../src/pages/main/salesAndgift/scanner/scanner.module.ts","../../src/pages/main/salesAndgift/scanner/scanner.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ScannerPage } from './scanner';\n\n@NgModule({\n  declarations: [\n    ScannerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ScannerPage),\n  ],\n})\nexport class ScannerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/salesAndgift/scanner/scanner.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, Navbar, NavController, NavParams, ViewController, AlertController, Platform } from 'ionic-angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { AppService } from '../../../../providers/service-public-service/service-public-service';\n\n@IonicPage()\n@Component({\n  selector: 'page-scanner',\n  templateUrl: 'scanner.html',\n})\nexport class ScannerPage {\n  @ViewChild(Navbar) navbar: Navbar;\n  scanType = 1;\n  protected destory = false;\n\n  curCodeId = \"\";\n  curGoodName = \"\";\n  hasTraceablityCode = false;\n\n  protected goods = new Array();\n  protected gifts = new Array();\n  goodsNum = 0;\n  giftsNum = 0;\n  public backgroundnone = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private qrScanner: QRScanner,\n    public viewCtrl: ViewController,\n    public alertCtrl: AlertController,\n    public appService: AppService,\n    private platform: Platform,\n  ) {\n\n  }\n  ionViewWillEnter() {\n    //获取摄像权限\n    this.destory=false;\n    this.qrScanner.prepare()\n      .then((status: QRScannerStatus) => {\n        if (status.authorized) {\n          this.scan();\n          this.qrScanner.show();\n        }\n      })\n    .catch((e: any) => console.log('Error is', e));\n\n  }\n\n  ngOnInit() {\n    // 处理ios 页面滑动效果\n    this.navCtrl.swipeBackEnabled = false;\n    setTimeout(() => {\n      this.backgroundnone = true;\n    }, 800);\n    //返回提示\n    this.navbar.backButtonClick = (e: UIEvent) => {\n      this.onBack();\n    }\n    this.platform.registerBackButtonAction(() => {\n      this.onBack();\n    });\n    \n  }\n  ionViewWillUnload() {\n    this.platform.registerBackButtonAction(() => {\n      this.navCtrl.pop();\n    });\n  }\n  onBack() {\n    if (this.goodsNum == 0 && this.giftsNum == 0) {\n      this.destory = true;\n      this.qrScanner.destroy();\n      this.viewCtrl.dismiss();     \n    } else {\n      this.appService.alert('您的操作未完成，确定要退出？',callback=> {\n          try {\n            this.destory = true;\n            this.qrScanner.destroy();\n          } catch (e) {} finally {\n            this.navCtrl.popToRoot();\n          }\n\n      });\n    }\n  }\n  //开启扫一扫\n  scan() {\n    this.qrScanner.scan().subscribe((text: string) => {\n      if (this.destory) {\n        this.restartScan();\n        return;\n      }\n      if (!this.hasTraceablityCode || text.length == 13) {\n        this.postCodeIdApi(text);\n      }else{\n        if (this.curCodeId == \"\") {\n          this.appService.toast(\"错误的产品条码\");\n        }else{\n          this.postIntegeralCodeApi(text);\n        }\n      }\n     \n    });\n  }\n\n  postCodeIdApi(code){\n    this.appService.httpPost('getScanCodeCasPosSale.api',{code: code}, data => {\n      this.destory = false;\n      this.restartScan();\n      if (data.code == -1) {\n        this.appService.toast(data.msg);\n      } else {\n        let goodMap = data.data.goodMap;\n        this.curCodeId = goodMap.goodsId;\n        this.curGoodName = \"商品名称：\" + goodMap.goodsDesc;\n        if (goodMap.tag == 0) {\n          this.hasTraceablityCode = false;\n          this.codeIdVerify();\n        }else{\n          this.hasTraceablityCode = true;\n        }\n      }\n\n    }, true);\n  }\n\n  postIntegeralCodeApi(code){\n    this.appService.httpPost('checkIntegralCode.api',{'integralCode': code}, data => {\n      this.destory = false;\n      this.restartScan();\n      if (data.code == -1) {\n        this.appService.toast(data.msg);\n      } else if (data.code == 1) {\n        this.complain(data.data);\n      }else{\n        this.verifyGoodCode(code);\n      }\n    }, true);\n  }\n\n  complain(data){\n    this.destory = true;\n    let dialog = this.alertCtrl.create({\n      title: '追溯码已出售',\n      message: \"销售门店：\" + data.storeDesc + \"<br>\" + \"商品名称：\" + data.goodsDesc,\n      buttons: [\n        {\n          text: '投诉',\n          handler: () => {\n            this.navCtrl.push('ComplainFormsPage', { data: data }, {\n              animation: 'md-transition'\n            });\n          }\n        },\n        {\n          text: '取消',\n          handler: () => {\n            this.destory = false;\n          }\n        }\n      ]\n    });\n    dialog.present();\n  }\n\n  codeIdVerify(){\n    var num = 0;\n    var index = -1;\n    let tempArrs = [];\n    if (this.scanType == 1) {\n      tempArrs = this.goods;\n    }else{\n      tempArrs = this.gifts;\n    }\n    for (var i = 0; i < tempArrs.length; ++i) {\n      let map = tempArrs[i];\n      if (map.goodsId == this.curCodeId) {\n        num += 1;\n        if (index == -1) {\n          index = i;\n        }\n      }\n    }\n    if (num == 0) {\n      this.showInputNum(0);\n    }else{\n      if (this.scanType == 1) {\n        this.goods.splice(index,num);\n      }else{\n        this.gifts.splice(index,num);\n      }\n      this.showInputNum(num);\n    }\n    \n  }\n\n  restartScan(){\n    let time = setTimeout(() => {\n      this.scan();\n      clearTimeout(time)\n    }, 500)\n  }\n\n  //验证商品条码是否存在\n  verifyGoodCode(code){\n\n    for (var i = 0; i < this.goods.length; ++i) {\n      if (this.goods[i].code == code) {\n        this.showRepeat(1,i);\n        return;\n      }\n    }\n\n    for (var j = 0; j < this.gifts.length; ++j) {\n      if (this.gifts[j].code == code) {\n        this.showRepeat(2,j);\n        return;\n      }\n    }\n  \n    if (this.scanType == 1) {\n      this.goods.push({'goodsId':this.curCodeId,'code':code});\n      this.goodsNum = this.goods.length;\n    }else{\n      this.showSourceRadio(code,1);\n    }\n  }\n  \n  scanGood(){\n    this.scanType = 1;\n  }\n\n  scanGift(){\n    this.scanType = 2;\n  }\n\n  //提交\n  submit() {\n    \n    if (this.goods.length == 0) {\n      this.appService.toast('不能为空')\n      return;\n    }\n    var resultObect = { 'goods': this.goods, 'gifts': this.gifts };\n    console.log(resultObect);\n    this.appService.httpPost('submitScanCodeCasPosSale.api',\n        {'resultObject': JSON.stringify(resultObect).replace(/\\[{2,}/, '[').replace(/\\]{2,}/, ']')}, data => {\n        if (data.code == -1) {\n          this.appService.toast(data.msg);\n        } else {\n          this.destory = true;\n          this.qrScanner.destroy();\n          this.appService.setItem('sc', resultObect);\n          this.navCtrl.push('SalePage', { scannerData: data.data }, {\n            animation: 'md-transition'\n          });\n        }\n      }, true);\n  }\n\n  showPrompt() {\n    this.destory = true;\n    let prompt = this.alertCtrl.create({\n      title: '手动输入',\n      enableBackdropDismiss: false,\n      inputs: [\n        { type: \"text\" },\n      ],\n      buttons: [\n        {\n          text: '取消',\n          handler: data => {\n            this.destory = false;\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            this.destory = false;\n            if (!data[0]) {\n              this.appService.toast('不能为空')\n            } else {\n              if (!this.hasTraceablityCode || data[0].length == 13) {\n                this.postCodeIdApi(data[0]);\n              }else{\n                if (this.curCodeId == \"\") {\n                  this.appService.toast(\"错误的产品条码\");\n                }else{\n                  this.postIntegeralCodeApi(data[0]);\n                }\n              }\n\n            }\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  showRepeat(type, pos) {\n    this.destory = true;\n    let confirm = this.alertCtrl.create({\n      title: '提示',\n      message: '该追溯码已存在',\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: '删除',\n          handler: () => {\n            this.destory = false;\n            if (type == 1) {\n              this.goods.splice(pos, 1);\n              this.goodsNum = this.goods.length;\n            } else {\n              this.gifts.splice(pos, 1);\n              this.giftsNum = this.gifts.length;\n            }\n          }\n        },\n        {\n          text: '取消',\n          handler: () => {\n            this.destory=false;\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  showInputNum(num) {\n    this.destory = true;\n    let confirm = this.alertCtrl.create({\n      title: '输入数量',\n      inputs: [\n        {\n          type: \"number\",\n          value: num==0?'':num\n        },\n      ],\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: '确定',\n          handler: data => {\n            this.destory=false;\n            if (data[0] <= 0) {\n              return false;\n            }\n            if (this.scanType == 1) {\n              for (var i = 0; i < parseInt(data[0]); ++i) {\n                this.goods.push({'goodsId':this.curCodeId,'code':'4444'});\n              }\n              this.goodsNum = this.goods.length;\n            } else {\n              this.showSourceRadio('4444',parseInt(data[0]));\n            }\n\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  showSourceRadio(code,num) {\n    this.destory = true;\n    let alert = this.alertCtrl.create({enableBackdropDismiss: false});\n\n    alert.setTitle('选择赠品来源');\n\n    alert.addInput({\n      type: 'radio',\n      label: \"借门店\",\n      value: '0',\n      checked: false\n    });\n\n    alert.addInput({\n      type: 'radio',\n      label: \"其它\",\n      value: '2',\n      checked: true\n    });\n\n    alert.addButton({\n      text: '确定',\n      handler: data => {\n        this.destory = false;\n        for (var i = 0; i < num; ++i) {\n          this.gifts.push({ 'goodsId': this.curCodeId, 'code': code, 'source': data });\n        }\n        this.giftsNum = this.gifts.length;\n      }\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/salesAndgift/scanner/scanner.ts"],"sourceRoot":""}