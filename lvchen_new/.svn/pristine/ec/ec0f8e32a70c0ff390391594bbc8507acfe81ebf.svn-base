{"version":3,"sources":["../../src/pages/main/Deposit/receive-check/receive-check.module.ts","../../src/pages/main/Deposit/receive-check/receive-check.ts"],"names":[],"mappings":"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","file":"48.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReceiveCheckPage } from './receive-check';\n\n@NgModule({\n  declarations: [\n    ReceiveCheckPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReceiveCheckPage),\n  ],\n})\nexport class ReceiveCheckPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/Deposit/receive-check/receive-check.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { IonicPage, Navbar,Platform,NavController,ViewController, NavParams,PopoverController } from 'ionic-angular';\nimport { AppService } from '../../../../providers/service-public-service/service-public-service';\n\n\n/**\n * Generated class for the ReceiveCheckPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-receive-check',\n  templateUrl: 'receive-check.html',\n})\nexport class ReceiveCheckPage {\n @ViewChild(Navbar)navbar:Navbar;\n  gifts = new Array();\n  goods = new Array();\n  presents = new Array();\n  goodNum = 0;\n  giftNum = 0;\n  presentNum = 0;\n  selectOptions;\n  constructor(public navCtrl: NavController,\n     public navParams: NavParams, \n     public appService: AppService,\n     public popoverCtrl: PopoverController,\n     public viewCtrl:ViewController,\n     public platform : Platform) {\n  \n  }\n\n  ionViewWillEnter()  {\n    this.gifts = new Array();\n    this.goods = new Array();\n    this.presents = new Array();\n    this.appService.getItem('pre',val=>{\n      this.presents=val['presentMap']||[];\n      this.presentNum=this.presents.length||0;\n    })\n   \n    this.selectOptions = {title: '选择来源',mode: 'md'};\n\n    this.navbar.backButtonClick = (e:UIEvent)=>{\n      this.onBack();\n    }\n\n    var tempGoods = this.navParams.get('goods');\n    for (var i = 0; i < tempGoods.length; ++i) {\n    \tvar tempGood = tempGoods[i];\n    \tlet isRepeat = false;\n    \tfor (var j = 0; j < this.goods.length; ++j) {\n    \t\tif (this.goods[j].id == tempGood.goodsId) {\n    \t\t\tthis.goods[j].code.push(tempGood.code);\n    \t\t\tthis.goods[j].num += 1; \n    \t\t\tisRepeat = true;\n    \t\t\tbreak;\n    \t\t}\n    \t}\n    \tif (!isRepeat) {\n\t    \tlet codes = new Array();\n\t    \tcodes.push(tempGood.code);\n\t    \tthis.goods.push({id:tempGood.goodsId,code:codes,saleType:0,source:'',name:tempGood.name,num:1});\n    \t}\n    }\n\n    var tempGifts = this.navParams.get('gifts');\n    for (var k = 0; k < tempGifts.length; ++k) {\n    \tvar tempGift = tempGifts[k];\n    \tlet isRepeat = false;\n    \tfor (var l = 0; l < this.gifts.length; ++l) {\n    \t\tif (this.gifts[l].id == tempGift.goodsId) {\n    \t\t\tthis.gifts[l].code.push(tempGift.code);\n    \t\t\tthis.gifts[l].num += 1; \n    \t\t\tisRepeat = true;\n    \t\t\tbreak;\n    \t\t}\n    \t}\n    \tif (!isRepeat) {\n\t    \tlet codes = new Array();\n\t    \tcodes.push(tempGift.code);\n\t    \tthis.gifts.push({id:tempGift.goodsId,code:codes,saleType:1,source:tempGift.source,name:tempGift.name,num:1});\n    \t}\n    \t\n    }\n\n    this.giftNum = this.gifts.length;\n\n    this.goodNum = this.goods.length;\n  }\n  \n  ionViewDidEnter(){\n    this.platform.registerBackButtonAction(() => {\n      this.onBack();\n    });\n  }\n\n\n  \n  onBack(){\n    this.appService.backAlert(this.viewCtrl);\n  }\n\n  onScanner(){\n    this.navCtrl.pop();\n  }\n\n  onScanPresent(){\n    this.navCtrl.push('ScangiftPage',{ userId:this.navParams.get('userId') });\n  }\n\n\n  \n  onCodeView(codes){\n    let popover = this.popoverCtrl.create('CodeviewPage',codes);\n    popover.present();\n  }\n  \n \n  saleVerify() {\n\n    var tempGoods = new Array();\n\n    for (var i = 0; i < this.goods.length; ++i) {\n      tempGoods.push( this.goods[i]);\n    }\n\n    for (var j = 0; j < this.gifts.length; ++j) {\n      tempGoods.push( this.gifts[j]);\n    }\n\n    let params = {data:{'goods':tempGoods,'gifts':this.presents},\n    \tdepostId:this.navParams.get('depostId'),\n      phone:this.navParams.get('phone')};\n    \n    this.navCtrl.push('ReceiveVerifyPage',params,{\n      animation: 'md-transition'\n    });\n    \n  }\n\n  onAddNum(pos,num){\n   this.presents[pos].num = parseInt(num) + 1;\n  }\n\n  onCutNum(pos,num){\n    if (num == 1) {\n       this.presents.splice(pos,1);\n    }else{\n      this.presents[pos].num =  parseInt(num) - 1;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/Deposit/receive-check/receive-check.ts"],"sourceRoot":""}