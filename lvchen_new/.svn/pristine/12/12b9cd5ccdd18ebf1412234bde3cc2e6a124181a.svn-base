{"version":3,"sources":["../../src/pages/grantMarket/sales-statistics/sales-statistics.module.ts","../../src/pages/grantMarket/sales-statistics/sales-statistics.ts"],"names":[],"mappings":"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","file":"58.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SalesStatisticsPage } from './sales-statistics';\n\n@NgModule({\n  declarations: [\n    SalesStatisticsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SalesStatisticsPage),\n  ],\n})\nexport class SalesStatisticsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/sales-statistics/sales-statistics.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { AppService } from '../../../providers/service-public-service/service-public-service';\n\n/**\n * Generated class for the SalesStatisticsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-sales-statistics',\n  templateUrl: 'sales-statistics.html',\n})\nexport class SalesStatisticsPage {\n  public salesStatisticsDetail = 'SalesStatisticsDetailPage';\n  public mItems :{itemName:string,type:number,checked:boolean}[];\n  public timeSelect: boolean = false;\n  public startTime;\n  public endTime;\n  public sections: string[]; \n  // public defaultSection: string;\n  public dateTag: number = 1;\n  public timeSwitch: boolean = true;\n  // 本身的storeId\n  public storeId:string;\n  public storeMap;\n  public storeMapLength;\n\n  //销售数据\n  public salesData = [];\n  //saleQty: 数量总数\n  public saleQty;\n  // saleAmount\n  public saleAmount;\n  public groupId;\n \n  \n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public appService: AppService,\n    public loadingCtrl: LoadingController){\n    this.mItems = [\n      { itemName: '当天', type: 1, checked: true },\n      { itemName: '昨天', type: 2, checked: false },\n      { itemName: '当月', type: 3, checked: false },\n      { itemName: '上月', type: 4, checked: false },\n      { itemName: '自定义', type: 10, checked: false }\n    ];\n\n    this.appService.getItem('curStore',val=>{\n      this.storeId=val['id']\n    })\n  }\n\n  ionViewDidLoad() {\n    //this.defaultSection = '绿臣总部';\n    this.presentLoading();\n    this.salesStatistics();\n    this.OrgUser();\n  }\n\n //点击弹出或关闭时间选择\n  showTimeContent(){\n    this.timeSelect = !this.timeSelect;\n  }\n\n  timeOption(e){\n    \n  }\n\n  //选择日期\n  Select(itemType) {\n    // console.log(itemType);\n    this.dateTag = itemType;\n    console.log(this.dateTag);\n    for(let i = 0;i< this.mItems.length; i++){\n      this.mItems[i].checked = false;\n      if(this.mItems[i].type===itemType){\n        this.mItems[i].checked = true;\n        if(itemType===10){\n          this.timeSwitch = false;\n          console.log(this.timeSwitch)\n        }else{\n          this.timeSwitch = true;\n        }\n      } \n    } \n  }\n\n   //选择时间查看数据\n   timeZoneSelect() {\n    this.presentLoading();\n    if(this.dateTag!==10){\n      this.appService.httpPost('findCasPosSale.api', {storeId: this.storeId, dateTag: this.dateTag}, data => {\n        // console.log(data)\n        // console.log(selectedTime);\n        this.salesData = data['data'];\n        this.saleQty = data['saleQty'];\n        this.saleAmount = data['saleAmount'];\n        \n       })\n    }\n    if(this.dateTag===10){\n      this.appService.httpPost('findCasPosSale.api', {storeId: this.storeId, sDate: this.startTime, eDate: this.endTime}, data => {\n        // console.log(data);\n        // console.log(startDate, endDate);\n        this.salesData = data['data'];\n        this.saleQty = data['saleQty'];\n        this.saleAmount = data['saleAmount'];\n       })\n    }  \n    this.timeSelect = !this.timeSelect;\n  }\n\n  // 获取销售统计数据\n  salesStatistics(){\n    this.appService.httpPost('findCasPosSale.api',{storeId: this.storeId, dateTag: this.dateTag},data=>{\n      console.log(data['data']);\n      this.salesData = data['data'];\n      this.saleQty = data['saleQty'];\n      this.saleAmount = data['saleAmount'];\n    })\n  }\n\n     // 判断是否为总部\n   OrgUser() {\n    this.appService.httpPost('getNextOrg.api', { storeId: this.storeId }, data => {\n      console.log(data)\n      this.storeMap = data['data'] || [];\n      this.storeMapLength = this.storeMap.length > 0 ? true : false;\n    })\n  }\n\n  presentLoading() {\n    let loader = this.loadingCtrl.create({\n      duration: 1000\n    });\n    loader.present();\n  }\n\n  //选择下一级部门\n  selectOrg(){\n    this.appService.httpPost('findCasPosSale.api',{storeId: this.storeId, dateTag: this.dateTag},data=>{\n      // console.log(data['data'],this.defaultSection);\n      this.salesData = data['data'];\n      this.saleQty = data['saleQty'];\n      this.saleAmount = data['saleAmount'];\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/sales-statistics/sales-statistics.ts"],"sourceRoot":""}