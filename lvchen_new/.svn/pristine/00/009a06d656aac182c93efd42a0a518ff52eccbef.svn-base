{"version":3,"sources":["../../src/pages/grantMarket/present-statistics/present-statistics.module.ts","../../src/pages/grantMarket/present-statistics/present-statistics.ts"],"names":[],"mappings":"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","file":"63.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PresentStatisticsPage } from './present-statistics';\n\n@NgModule({\n  declarations: [\n    PresentStatisticsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PresentStatisticsPage),\n  ],\n})\nexport class PresentStatisticsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/present-statistics/present-statistics.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { AppService } from '../../../providers/service-public-service/service-public-service';\n\n/**\n * Generated class for the PresentStatisticsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage() \n@Component({\n  selector: 'page-present-statistics',\n  templateUrl: 'present-statistics.html',\n})\nexport class PresentStatisticsPage {\n  public mItems :{itemName:string,type:number,checked:boolean}[];\n  public timeSelect: boolean = false;\n  public startDate: any;\n  public endDate: any;\n  public sections: string[]; \n  public defaultSection: string;\n  public type: number;\n  public timeSwitch: boolean = true; \n  // 选择时间\n  public dateTag = 1;\n\n  //sum:赠品总数\n  public sum:number;\n \n  //商品数据\n  public giftData = [];\n   // 本身的storeId\n  public storeId:any;\n  // select store\n  public storeMap;\n  public storeMapLength: boolean;\n  public identity: number;\n  public presentGiftDetail='PresentGiftDetailPage';\n  \n  public pushPage;\n  public groupId;\n\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public appService: AppService,\n    public loadingCtrl: LoadingController) {\n      //this.pushPage = this.presentGiftDetail;\n\n\n      this.mItems = [\n        { itemName: '当天', type: 1, checked: true },\n        { itemName: '昨天', type: 2, checked: false },\n        { itemName: '当月', type: 3, checked: false },\n        { itemName: '上月', type: 4, checked: false },\n        { itemName: '自定义', type: 10, checked: false }\n      ];\n\n      //获取登录人员身份\n      this.appService.getItem('userInfo', val => {\n        this.identity = val['tag'];\n      })\n\n      this.appService.getItem('curStore',val=>{\n        this.storeId=val['id']\n        // console.log(this.storeId)\n      })\n  }\n\n  ionViewDidLoad() {\n    this.presentLoading();\n    // this.defaultSection = '绿臣总部';\n    this.findGift();\n    this.OrgUser();\n    \n  }\n\n  presentLoading() {\n    let loader = this.loadingCtrl.create({\n      duration: 1000\n    });\n    loader.present();\n  }\n\n  checkIdentity(){\n    if(this.identity === 2 || this.identity === 3){\n      this.pushPage = '';\n    }else{\n      // this.presentLoading();\n      this.pushPage = this.presentGiftDetail;\n    }\n  }\n\n  findGift(){\n    this.appService.httpPost('findGift.api', \n    { \n      storeId: this.storeId,\n      dateTag: this.dateTag,\n      startDate: '',\n      endDate: ''\n    }, data => {\n      this.giftData = data['data'];\n      this.sum = data['saleQty'];\n      console.log(data);\n\n      if (data.code !== 1) {\n        this.appService.alert(`${data.msg}`)\n      }\n\n    })\n  }\n\n  //选择时间查看数据\n  timeZoneSelect() {\n    this.presentLoading();\n    if(this.dateTag!==10){\n      this.appService.httpPost('findGift.api', {storeId: this.storeId, dateTag: this.dateTag}, data => {\n        console.log(data)\n        //console.log(selectedTime);\n        this.giftData = data['data'];\n        this.sum = data['saleQty'];\n        \n       })\n    }\n    if(this.dateTag===10){\n      this.appService.httpPost('findGift.api', {storeId: this.storeId, sDate: this.startDate, eDate: this.endDate}, data => {\n        // console.log(data);\n        \n        this.giftData = data['data'];\n        this.sum = data['saleQty'];\n       })\n    }  \n    this.timeSelect = !this.timeSelect;\n  }\n\n  //点击弹出或关闭时间选择\n  showTimeContent(){\n    this.timeSelect = !this.timeSelect;\n  }\n\n  timeOption(e){\n    //console.log(e);\n    // e.view.closed=true;\n  }\n\n  //选择日期\n  Select(itemType) {\n    //console.log(itemType);\n    this.dateTag = itemType;\n    for(let i = 0;i< this.mItems.length; i++){\n      this.mItems[i].checked = false;\n      if(this.mItems[i].type===itemType){\n        this.mItems[i].checked = true;\n        if(itemType===10){\n          this.timeSwitch = false;\n          //console.log(this.timeSwitch)\n        }else{\n          this.timeSwitch = true;\n        }\n      } \n    }\n  }\n\n   // 判断是否为总部\n   OrgUser() {\n    this.appService.httpPost('getNextOrg.api', { storeId: this.storeId }, data => {\n      this.storeMap = data['data'] || [];\n      console.log(data,'123123');\n      this.storeMapLength = this.storeMap.length > 0 ? true : false;;\n    })\n  }\n\n  //总部人员选择下级业务组\n  selectGroup() {\n    this.presentLoading();\n    this.appService.httpPost('findGift.api', \n    { \n      storeId: this.storeId,\n      dateTag: this.dateTag,\n      startDate: '',\n      endDate: ''\n    }, data => {\n      this.giftData = data['data'];\n      this.sum = data['saleQty'];\n      console.log(data);\n\n      if (data.code !== 1) {\n        this.appService.alert(`${data.msg}`)\n      }\n\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/grantMarket/present-statistics/present-statistics.ts"],"sourceRoot":""}