{"version":3,"sources":["../../src/pages/main/salesAndgift/sales-return/sales-return.module.ts","../../src/pages/main/salesAndgift/sales-return/sales-return.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SalesReturnPage } from './sales-return';\n\n@NgModule({\n  declarations: [\n    SalesReturnPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SalesReturnPage),\n  ],\n})\nexport class SalesReturnPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/salesAndgift/sales-return/sales-return.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ViewChild } from '@angular/core';\nimport { Navbar } from 'ionic-angular';\nimport { AppService } from '../../../../providers/service-public-service/service-public-service';\n\n/**\n * Generated class for the SalesReturnPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-sales-return',\n  templateUrl: 'sales-return.html',\n})\n\nexport class SalesReturnPage {\n  @ViewChild(Navbar)navbar:Navbar;\n  public companyData={};\n  public apiUrl='findSellCasPosSale.api';\n  public typeId:number=0;\n  public userId:string;\n  public storeId:string;\n  public i=0;\n  public hasmore=false;\n  public saleReturnData:any;\n  public menus:Array<any>;\n  \n  constructor(\n              public appservice:AppService,\n              public navparams:NavParams,\n              public navCtrl:NavController\n\n  ) {\n    \n    console.log('Hello ServiceCompanyListProvider Provider');\n  }\n  ngOnInit(){\n    this.navbar.backButtonClick = (e:UIEvent)=>{\n      \n      this.navCtrl.pop({ animation: 'md-transition' });\n    \n  }\n  }\n  ionViewDidLoad() {\n   \n    this.menus=[{name:'未审核'}, {name:'通过'}, {name:'未通过'}]\n    this.selectPageMenu('',0);\n  }\n  SaleReturnDetail(saleId,state){\n    \n    this.navCtrl.push('SaleReturnDetailPage',{saleId:saleId,state:state},{\n      animation: 'md-transition'\n    })\n  }\n  \n  \n  // dorefresh function\n  getTopTopics($event){\n   \n    try{\n      if(this.companyData[this.typeId]['data']!=null){\n        this.saleReturnData=this.companyData[this.typeId]['data'];\n        this.hasmore=this.companyData[this.typeId]['hasNextPage'];\n        return ;\n      }\n      \n    }catch(e){\n      var hasNextPage=true;\n      this.appservice.httpPost(this.apiUrl,\n          {state:this.typeId,page:1},\n          data=>{\n            if(data.data.length>=10){\n              hasNextPage=true;\n            }else{\n              hasNextPage=false;\n            }\n              this.companyData[this.typeId]={\n                hasNextPage:hasNextPage,\n                nextPage:2,\n                data:data.data\n              }\n  \n              this.saleReturnData=this.getData();\n              this.hasmore=this.hasNextPage();\n          }\n        )\n    }\n \n  }\n  getMoreData($event){\n    var hasNextPage=this.companyData[this.typeId].hasNextPage;\n    var nextPage=this.companyData[this.typeId].nextPage;\n    var moreTopicsData=this.companyData[this.typeId].data;\n    this.appservice.httpPost(this.apiUrl,\n        {state:this.typeId,page:nextPage},\n        data=>{\n          if(data.data.length>=10){\n            hasNextPage=true;\n            nextPage++;\n          }else{\n            hasNextPage=false;\n          }\n          moreTopicsData=moreTopicsData.concat(data.data);\n            this.companyData[this.typeId]={\n              hasNextPage:hasNextPage,\n              nextPage:nextPage,\n              data:moreTopicsData\n            }\n            this.saleReturnData=this.getData();\n            this.hasmore=this.hasNextPage();\n           $event.complete();\n        }\n      )\n  }\n  selectPageMenu($event,type){   //点击分类加载数据\n    this.i=type;\n    this.typeId=type;\n\n      this.getTopTopics($event);\n    \n  \n  }\n  \n   hasNextPage(){\n    if (  this.companyData[this.typeId] === undefined) {\n        return false;\n    }\n    return this.companyData[this.typeId].hasNextPage\n  }\n  getData(){\n   \n    if ( this.companyData[this.typeId] === undefined) {\n      return false;\n  }\n  return this.companyData[this.typeId].data\n}\n  \n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/salesAndgift/sales-return/sales-return.ts"],"sourceRoot":""}