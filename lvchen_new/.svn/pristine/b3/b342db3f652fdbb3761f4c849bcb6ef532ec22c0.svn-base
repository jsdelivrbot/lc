{"version":3,"sources":["../../src/pages/Business/business-learn/business-learn.module.ts","../../src/pages/Business/business-learn/business-learn.ts"],"names":[],"mappings":"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","file":"82.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BusinessLearnPage } from './business-learn';\n\n@NgModule({\n  declarations: [\n    BusinessLearnPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BusinessLearnPage),\n  ],\n})\nexport class BusinessLearnPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Business/business-learn/business-learn.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, Navbar } from 'ionic-angular';\nimport { AppService, AppGlobal } from '../../../providers/service-public-service/service-public-service';\n\n/**\n * Generated class for the BusinessLearnPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-business-learn',\n  templateUrl: 'business-learn.html',\n})\nexport class BusinessLearnPage {\n  @ViewChild(Slides) slides: Slides;\n  @ViewChild(Navbar) navBar: Navbar;\n  public pageTitle: string = \"我要学习\";\n  // 选中的导航\n  public navIndex: number = 0;\n  // 是否有下一页\n  public hasNextCourse: boolean = false;\n  public hasNextExam: boolean = false;\n  // 获取行数\n  public rows: number = 20;\n  // 页数\n  public coursePage: number = 1;\n  public examPage: number = 1;\n  // 搜索结果列表\n  public coursesList: Array<any> = [];\n  public examList: Array<any> = [];\n  // 课程类型数组\n  public coursesType: Array<any> = [];\n  public coursesTypeColors: Array<any> = [];\n  // 第一次获取需要考试的课程\n  public firstGetExam: boolean = true;\n  // 筛选的课程id\n  public courseTypeId: number = null;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public appService: AppService,\n    public appUrl: AppGlobal) {\n  }\n\n  ionViewDidLoad() {\n    this.navBar.backButtonClick = () => {\n      this.navCtrl.pop({\n        animation: 'md-transition'\n      });\n    }\n    this.getCourses(1);\n    this.getCourseType();\n  }\n\n  // 切换导航\n  toggleTab(index) {\n    this.navIndex = index;\n    this.slides.slideTo(index);\n  }\n\n  // 切换内容\n  toggleSlide() {\n    this.navIndex = this.slides.getActiveIndex();\n    if (this.navIndex > 1) {\n      this.navIndex = 1;\n    }\n    if (this.navIndex < 0) {\n      this.navIndex = 0;\n    }\n    if (this.firstGetExam && this.navIndex == 1) {\n      this.getCourses(1);\n      this.firstGetExam = false;\n    }\n  }\n\n  // 获取课程\n  getCourses($event) {\n    this.appService.httpPost(\"business_getCourses\", {\n      page: this.navIndex == 0 ? this.coursePage : this.examPage,\n      rows: this.rows,\n      isExam: this.navIndex,\n      courseTypeId: this.courseTypeId\n    }, (res) => {\n      if (res.code == 1) {\n        // 获取无考试的课程\n        if (this.navIndex == 0) {\n          // 获取数据\n          this.coursesList = this.coursesList.concat(res.map.listMap);\n          // 判断是否有下一页\n          if (res.map.listMap.length < this.rows) {\n            this.hasNextCourse = false;\n          }\n          else {\n            this.hasNextCourse = true;\n          }\n        }\n        // 获取有考试的课程\n        if (this.navIndex == 1) {\n          // 获取数据\n          this.examList = this.examList.concat(res.map.listMap);\n          // 判断是否有下一页\n          if (res.map.listMap.length < this.rows) {\n            this.hasNextExam = false;\n          }\n          else {\n            this.hasNextExam = true;\n          }\n        }\n        // 加载更多完成\n        if ($event != 1) {\n          $event.complete();\n        }\n      }\n      else {\n        this.appService.alert(res.msg);\n        // 加载更多完成\n        if ($event != 1) {\n          $event.complete();\n        }\n      }\n    }, this.navIndex == 0 ? this.coursesList.length <= 0 : this.examList.length <= 0)\n  }\n\n  // 获取课程类型\n  getCourseType() {\n    this.appService.httpPost(\"business_courseType\", {}, (res) => {\n      if (res.code == 1) {\n        this.coursesType = res.map.rs;\n        // 添加颜色\n        this.colorTag(this.coursesType);\n      }\n      else {\n        this.appService.alert(res.msg);\n      }\n    });\n  }\n\n  // 加载更多\n  getMoreData($event) {\n    this.navIndex == 0 ? this.coursePage++ : this.examPage++;\n    this.getCourses($event);\n  }\n\n  // 给标签添加颜色\n  colorTag(list) {\n    for (let i = 0; i < list.length; i++) {\n      this.getColor(this.coursesTypeColors);\n    }\n  }\n\n  // 随机颜色\n  getColor(arr) {\n    let newColor = \"rgba(\" + (Math.random() * 205 + 50) + \",\" + (Math.random() * 100 + 50) + \",\" + (Math.random() * 150 + 50) + \",1)\";\n    if (arr.indexOf(newColor) != -1) {\n      this.getColor(arr);\n    }\n    else {\n      arr.push(newColor);\n    }\n  }\n\n  // 返回颜色字符串\n  returnColor(tag) {\n    for (let i = 0; i < this.coursesType.length; i++) {\n      if (this.coursesType[i].text == tag) {\n        return this.coursesTypeColors[i];\n      }\n      let children = this.coursesType[i].children;\n      for (let j = 0; j < children.length; j++) {\n        if (children[j].text == tag) {\n          return this.coursesTypeColors[i];\n        }\n      }\n    }\n  }\n\n  // 显示所有类型\n  showFunnel() {\n    let funnel = document.getElementById(\"funnel\");\n    let ionNabbar = document.getElementById(\"ionNabbar\");\n    this.pageTitle = this.pageTitle == \"筛选\" ? \"我要学习\" : \"筛选\";\n    if (this.pageTitle == \"筛选\") {\n      funnel.style.top = ionNabbar.offsetHeight + \"px\";\n    }\n    else {\n      funnel.style.top = '';\n    }\n  }\n\n  // 通过类型筛选\n  searchByID(id) {\n    this.courseTypeId = this.courseTypeId == id ? null : id;\n    this.showFunnel();\n    this.hasNextCourse = false;\n    this.hasNextExam = false;\n    this.coursePage = 1;\n    this.examPage = 1;\n    this.coursesList = [];\n    this.examList = [];\n    this.firstGetExam = true;\n    this.toggleTab(0);\n    this.getCourses(1);\n  }\n\n  // 展开详情页\n  goToCourseDetail(id) {\n    this.navCtrl.push('BusinessCourseDetailPage', { id: id }, {\n      animation: 'md-transition'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Business/business-learn/business-learn.ts"],"sourceRoot":""}