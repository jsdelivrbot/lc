{"version":3,"sources":["../../src/pages/main/repayCustomer/repay-gift-detail/repay-gift-detail.module.ts","../../src/components/components.module.ts","../../src/components/components-colorbar/components-colorbar.ts","../../src/components/echart-line/echart-line.ts","../../src/pages/main/repayCustomer/repay-gift-detail/repay-gift-detail.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RepayGiftDetailPage } from './repay-gift-detail';\nimport { ComponentsModule } from '../../../../components/components.module';\n\n@NgModule({\n  declarations: [\n    RepayGiftDetailPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(RepayGiftDetailPage),\n  ],\n})\nexport class RepayGiftDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/repayCustomer/repay-gift-detail/repay-gift-detail.module.ts","import { NgModule } from '@angular/core';\nimport { ComponentsColorbarComponent } from './components-colorbar/components-colorbar';\nimport { EchartLineComponent } from './echart-line/echart-line';\nimport { IonicModule } from 'ionic-angular/module';\n\n@NgModule({\n\tdeclarations: [\n\t ComponentsColorbarComponent\n\t,EchartLineComponent],\n\timports: [IonicModule],\n\texports: [\n\t\tComponentsColorbarComponent,\n\t\tEchartLineComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component } from '@angular/core';\n\n/**\n * Generated class for the ComponentsColorbarComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'components-colorbar',\n  templateUrl: 'components-colorbar.html'\n})\nexport class ComponentsColorbarComponent {\n\n  text: string;\n\n  constructor() {\n    console.log('Hello ComponentsColorbarComponent Component');\n    this.text = 'Hello World';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components-colorbar/components-colorbar.ts","import {Component, Input, Output, EventEmitter, ElementRef, ViewChild} from '@angular/core';\ndeclare var echarts;\n\n/**\n * Generated class for the EchartLineComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'echart-line',\n  templateUrl: 'echart-line.html'\n})\nexport class EchartLineComponent {\n  @ViewChild('container') container: ElementRef;\n  @Input() config:any;//此为 echart 组件的配置项\n  @Input() cheight:any;//设置  图表的高度\n  @Output() pwdResult = new EventEmitter<any>();\n  defaltOption;\n  chart: any;\n  constructor() {\n    this.defaltOption = {\n      baseOption: {\n        toolbox: {\n          show: false, // 是否显示工具栏\n          feature: {\n            dataView: {\n              readOnly: true // 数据只读\n            }\n          }\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false\n        }\n      }\n    };\n  }\n  ionViewDidEnter(){\n\n  }\n  ngOnChanges(changes) {\n      this.refresh();\n  }\n  ngAfterContentInit() {\n      this.refresh();\n  }\n  refresh(){\n    let ctx = this.container.nativeElement;\n    if(this.cheight){\n      ctx.style.height=this.cheight+'px';\n    }\n    this.chart = echarts.init(ctx);\n    alert(this.config)\n    this.chart.setOption(this.config);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/echart-line/echart-line.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\nimport { ViewChild } from '@angular/core';\nimport { Navbar } from 'ionic-angular';\nimport { AppService } from '../../../../providers/service-public-service/service-public-service';\n\n/**\n * Generated class for the RepayGiftDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-repay-gift-detail',\n  templateUrl: 'repay-gift-detail.html',\n})\nexport class RepayGiftDetailPage {\n  @ViewChild(Navbar) navbar: Navbar;\n  protected customPhone: number;\n  protected repayDetailList: Array<any>;\n  public isConfirm: boolean = false;\n  public second: number = 60;\n  public canGetCode: boolean = true;\n  public tipText: string = '验证码已发至顾客手机';\n  public titleText: string = '欠礼品明细';\n  public isReturn: boolean = true;\n  public code = \"\";\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public appservice: AppService) {\n    this.customPhone = this.navParams.get('phone');\n    this.appservice.httpPost('getOweGoodsOrder.api',\n      {\n        phone: this.navParams.get('phone'),\n      }, data => {\n        console.log(data)\n        if (data.code == 1) {\n          this.repayDetailList = data.data || [];\n        }\n      })\n    console.log(this.navParams.get('phone'))\n  }\n\n\n\n  // 马上换货按钮\n  goodsImmediately() {\n    // 切换显示部分\n    this.isConfirm = !this.isConfirm;\n    if (this.canGetCode) {\n      this.getCode();\n    }\n  }\n\n  // 获取验证码\n  getCode() {\n    this.canGetCode = false;\n    this.countSecond();\n    this.appservice.httpPost(\"get_phone_code.api\", {\n      phone: this.customPhone,\n      code: 5\n    }, (res) => {\n      console.log(res);\n      if (res.code == 1) {\n        console.log(res.msg);\n        this.tipText = \"验证码已发至顾客手机\"\n      }\n      else {\n        this.appservice.alert(res.msg);\n      }\n    });\n  }\n\n  // 确认还货\n  confirmRepay() {\n    let repayGoods: Array<number> = [];\n    for (let i = 0; i < this.repayDetailList.length; ++i) {\n      repayGoods.push(this.repayDetailList[i].id)\n    }\n    this.appservice.httpPost(\"submitOweGoodsOrder.api\", {\n      ids: JSON.stringify(repayGoods),\n      phone: this.customPhone,\n      code: this.code\n    }, (res) => {\n      console.log(res);\n\n      if (res.code == 1) {\n        this.appservice.alert(res.msg);\n        this.titleText = \"还赠品成功\";\n        this.isReturn = false;\n        this.isConfirm = !this.isConfirm;\n      }\n      else {\n        this.appservice.alert(res.msg);\n      }\n    })\n  }\n\n  // 数秒\n  countSecond() {\n    setTimeout(() => {\n      this.second--;\n      if (this.second > 0) {\n        this.countSecond();\n      }\n      else {\n        this.second = 60;\n        this.canGetCode = true;\n        this.tipText = \"没收到验证码？点击重新发送！\"\n      }\n    }, 1000);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/repayCustomer/repay-gift-detail/repay-gift-detail.ts"],"sourceRoot":""}