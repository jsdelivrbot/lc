{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"53.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n   HomePage\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, Platform } from 'ionic-angular';\nimport { AppService, AppGlobal } from '../../providers/service-public-service/service-public-service'\nimport { OnInit } from '@angular/core';\n\nimport { IonicPage } from 'ionic-angular';\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\n/**\n * @author() 2018-05-28 modify by linyunfu\n * 对项目进行懒加载处理\n * */ \nexport class HomePage implements OnInit {\n  storeName = '';\n  storeMap = [];\n  identity = 0; //-1业务员，1员工，2、3导购\n  public complainListPage = 'ComplainListPage';\n  public ScannerPage = 'ScannerPage';\n  public CompanyInfoPage = 'CompanyInfoPage';\n  public OrderListPage = 'OrderListPage';\n  public customerReturn = 'CustomerReturnPage';\n  public CustomerLoggingPage = 'CustomerLoggingPage';\n  public MyCustomerPage = 'MyCustomerPage';\n  public slider: Array<any>;\n  public len: any;\n  public unread: string = '';\n  public unreadComplain: string = '';\n  public validate: boolean = true;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private alertCtrl: AlertController,\n    private appService: AppService,\n    public appUrl: AppGlobal,\n    private platform: Platform) {\n\n    // 首页广告、未读资讯\n    this.appService.httpPost('home_adJson.api', {}, data => {\n      this.unread = data.map.unread;\n      this.slider = data.map.adList;\n      this.len = data.map.adList.length;\n    })\n\n    this.appService.getItem('userInfo', val => {\n      this.identity = val['tag'];\n    })\n\n  }\n\n  // 寄存\n  openDeposit() {\n    this.navCtrl.push('DepositsPage');\n  }\n  // 销售\n  scan() {\n    this.navCtrl.push('ScannerPage', {}, {\n      animation: 'md-transition'\n    });\n  }\n  // 公司资讯\n  companyInfo() {\n    this.navCtrl.push('CompanyInfoPage')\n  }\n  // 订单详情\n  orderList() {\n    this.navCtrl.push('OrderListPage')\n  }\n  // 还顾客赠品\n  repayGift() {\n    this.navCtrl.push('RepayGiftPage')\n  }\n\n  SalesReturn() {\n\n    if (this.identity > 1) {\n      this.appService.alert(\"没有操作权限\");\n    } else {\n      this.navCtrl.push('SalesReturnPage')\n    }\n  }\n  showRadio() {\n\n    let alert = this.alertCtrl.create({ enableBackdropDismiss: false });\n\n    alert.setTitle('选择');\n\n    for (var i = 0; i < this.storeMap.length; ++i) {\n      alert.addInput({\n        type: 'radio',\n        label: this.storeMap[i].storeName,\n        value: i + '',\n        checked: false\n      });\n    }\n\n    alert.addButton({\n      text: '确定',\n      handler: data => {\n        if (!data) {\n          return false;\n        }\n        var pos = parseInt(data);\n        this.storeName = this.storeMap[pos].storeName;\n\n        // 原生js储存门店或者门店组id\n        this.appService.setItem('curStore', this.storeMap[pos])\n      }\n    });\n    alert.present();\n  }\n\n  ngOnInit() {\n    this.appService.getItem('userInfo', (val) => {\n      console.log(val);\n      this.storeMap = val.storeMap;\n      if (this.storeMap.length > 1) {\n        this.showRadio();\n      } else if (this.storeMap.length == 1) {\n        this.storeName = this.storeMap[0].storeName;\n        // 原生js储存门店或者门店组id\n        this.appService.setItem('curStore', this.storeMap[0])\n      }\n\n      const params = new URLSearchParams();\n\n      params.append('userId', val.id);\n\n    });\n  }\n  ionViewWillEnter() {\n    //投诉有无未读\n    this.appService.httpPost('complaintInformation.api', {}, data => {\n      if (data.code == 1) {\n        this.unreadComplain = \"true\";\n      } else {\n        this.unreadComplain = \"\";\n      }\n\n    })\n    try {\n      // 删除销售本地储存\n      this.appService.removeItem('sc');\n      this.appService.removeItem('pre')\n    } catch (e) {\n\n    }\n  }\n  ionViewDidEnter() {\n    this.platform.registerBackButtonAction(() => {\n      this.navCtrl.pop();\n    });\n    this.validate = true;\n  }\n\n  // 点击打开顾客录入模块\n  customerPage() {\n    if (this.validate) {\n      this.validate = false;\n      this.appService.httpPost(\"findAllMemberLabel.api\", {}, (res) => {\n        if (res.code == 1) {\n          this.navCtrl.push('CustomerLoggingPage');\n        }\n        else {\n          this.appService.alert(res.msg);\n          this.validate = true;\n          return;\n        }\n      }, true);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}