{"version":3,"sources":["../../src/pages/main/info/company-info/company-info.module.ts","../../src/pages/main/info/company-info/company-info.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CompanyInfoPage } from './company-info';\n\n@NgModule({\n  declarations: [\n    CompanyInfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CompanyInfoPage),\n  ],\n})\nexport class CompanyInfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/info/company-info/company-info.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides } from 'ionic-angular';\nimport { OnInit } from '@angular/core/src/metadata/lifecycle_hooks';\nimport { Navbar } from 'ionic-angular/components/toolbar/navbar';\nimport { AppService, AppGlobal } from '../../../../providers/service-public-service/service-public-service';\n/**\n * Generated class for the CompanyInfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-company-info',\n  templateUrl: 'company-info.html',\n})\nexport class CompanyInfoPage implements OnInit {\n  i: number = 0;\n  @ViewChild('contentSlides') contentSlides: Slides;\n  @ViewChild(Navbar) navbar: Navbar;\n  public hasNext: boolean = false;\n  public menus: Array<string>;\n  public topics = [];\n  public companyList = '';\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public apps: AppService,\n    public appUrl:AppGlobal) {\n\n  }\n  ionViewDidLoad() {\n    this.navbar.backButtonClick = this.backButtonClick;\n  }\n\n  backButtonClick = (e: UIEvent) => {\n    // do something\n    this.navCtrl.popToRoot({ animation: 'md-transition' });\n  }\n  CompanyData(typeId) {\n    console.log(typeId)\n    return {\n      gotopic: (refresher, index) => {\n        let hasNextPage = true;\n        this.apps.httpPost('findInformationJson.api',{ 'classify': 'company', 'typeId': typeId, 'page': 1 }, data => {\n          if (data.map.data == null) {\n            hasNextPage = false;\n          } else if (data.map.data.length < 10) {\n            hasNextPage = false;\n          } else {\n            hasNextPage = true;\n          }\n          this.topics[index]['data'] = [\n            {\n              'hasNextPage': hasNextPage,\n              'nextPage': 2,\n              'data': data.map.data\n            },\n\n          ]\n          this.CompanyData(typeId).getNext(index);\n\n          console.log(this.topics);\n          refresher.complete();\n        })\n      }\n      ,\n      getMore: (infiniteScroll, index) => {\n        let hasNextPage = this.topics[index]['data'].hasNextPage;\n        let nextPage = this.topics[index]['data'].nextPage;\n        let moreGotopic = this.topics[index]['data'].data;\n        this.CompanyData(typeId).getNext(index);\n        this.apps.httpPost('findInformationJson.api',{ 'classify': 'company', typeId: typeId, page: nextPage }, data => {\n          moreGotopic = moreGotopic.concat(data.map.infolist)\n          if (data.map.data == null) {\n            hasNextPage = false;\n          } else if (data.map.data.length < 10) {\n            hasNextPage = false;\n          } else {\n            hasNextPage = true;\n            nextPage++\n          }\n\n          this.topics[index]['data'] = [{\n            hasNextPage: hasNextPage,\n            'nextPage': nextPage,\n            'data': moreGotopic\n          }]\n          infiniteScroll.complete();\n        })\n      },\n      getNext: (index: any) => {\n        this.hasNext = this.topics[index]['data']['nexPage']\n      }\n    }\n  }\n  ngOnInit() {\n    var k = false;\n    var params = { 'classify': 'company' };\n    this.apps.httpPost('findInformationTypeJson.api', params, data => {\n      this.menus = data.map.data;\n      console.log(this.menus)\n      this.companyList = (100 / this.menus.length) + '%';\n      var ary = [];\n      for (let attr in this.menus) {\n        ary[attr] = this.menus[attr]\n      }\n      this.topics = ary;\n      console.log(ary)\n      k = true;\n      if (k) {\n        this.doRefresh('', 0, ary[0]['id'])\n      }\n\n      console.log(this.topics)\n    })\n\n  }\n  companyinfodetail(i) {\n    this.navCtrl.push('CompanyInfoDetailPage', { id: i }, {\n      animation: 'ios-transition'\n    })\n  }\n  doRefresh(refresher, index, id) {\n    console.log(refresher + '/' + index + '/' + id)\n\n    if (!refresher) {\n      let hasNextPage = true;\n      this.apps.httpPost('findInformationJson.api',{ 'classify': 'company', typeId: id, page: 1 }, data => {\n        console.log(data)\n        if (data.map.data == null) {\n          hasNextPage = false;\n        } else if (data.map.data.length < 10) {\n          hasNextPage = false;\n        } else {\n          hasNextPage = true;\n        }\n        this.topics[index]['data'] = [\n          {\n            hasNextPage: hasNextPage,\n            'nextPage': 2,\n            data: data.map.data\n          },\n\n        ]\n      })\n    } else {\n      this.CompanyData(id).gotopic(refresher, index);\n    }\n  }\n  doInfinite(infiniteScroll, index, id) {\n    this.CompanyData(id).getMore(infiniteScroll, index);\n  }\n  selectPageMenu($event, index, id) {\n    this.setStyle(index);\n    this.contentSlides.slideTo(index);\n  }\n  slideChanged() {\n    let index = this.contentSlides.getActiveIndex();\n    console.log('sc ' + index)\n    if (!this.topics[index]['data']) {\n      this.doRefresh('', index, this.menus[index]['id'])\n    }\n    this.setStyle(index);\n  }\n  setStyle(index) {\n    var Ind = parseInt(index)\n    this.i = Ind - this.menus.length >= 0 ? this.menus.length - 1 : Ind;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/info/company-info/company-info.ts"],"sourceRoot":""}