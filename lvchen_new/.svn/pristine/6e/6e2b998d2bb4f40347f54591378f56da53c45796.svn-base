{"version":3,"sources":["../../src/pages/main/Order/order-scanner/order-scanner.module.ts","../../src/pages/main/Order/order-scanner/order-scanner.ts"],"names":[],"mappings":"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","file":"41.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderScannerPage } from './order-scanner';\n\n@NgModule({\n  declarations: [\n    OrderScannerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderScannerPage),\n  ],\n})\nexport class OrderScannerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/Order/order-scanner/order-scanner.module.ts","\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, Navbar, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { AppService } from '../../../../providers/service-public-service/service-public-service';\n\n\n/**\n * Generated class for the ScannerPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-order-scanner',\n  templateUrl: 'order-scanner.html',\n})\nexport class OrderScannerPage {\n  @ViewChild(Navbar) navbar: Navbar;\n  protected light: boolean = false;\n  protected frontCamera: boolean = false;\n  scanType = 1;\n\n  goods = new Array();\n  gifts = new Array();\n\n  curCodeId = \"\";\n  curGoodName = \"\";\n  hasTraceablityCode = false;\n\n  goodsNum = 0;\n  giftsNum = 0;\n\n  isFirst = true;\n  protected ids;\n  protected destory = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private qrScanner: QRScanner,\n    public viewCtrl: ViewController,\n    public alertCtrl: AlertController,\n    public appService: AppService,\n  ) {\n  }\n\n  ngOnInit() {\n    this.ids = this.navParams.get('ids')\n    this.navbar.backButtonClick=(e:UIEvent)=>{\n      if (this.goodsNum == 0 && this.giftsNum == 0) {\n        this.destory = true;\n        this.qrScanner.destroy();\n        this.viewCtrl.dismiss();     \n      } else {\n        this.appService.alert('您的操作未完成，确定要退出？',callback=> {\n            try {\n              this.appService.removeItem('cb')\n              this.destory = true;\n              this.qrScanner.destroy();\n            } catch (e) {} finally {\n              this.navCtrl.popToRoot();\n            }\n\n        });\n      }\n    }\n  }\n\n  ionViewDidEnter() {\n    this.destory=false;\n    //获取摄像权限\n    this.qrScanner.prepare()\n      .then((status: QRScannerStatus) => {\n\n        if (status.authorized) {\n\n          this.scan();\n          this.qrScanner.show();\n\n        }\n      })\n  }\n //开启扫一扫\n  scan() {\n    this.qrScanner.scan().subscribe((text: string) => {\n      if (this.destory) {\n        this.restartScan();\n        return;\n      }\n      if (!this.hasTraceablityCode || text.length == 13) {\n        this.postCodeIdApi(text);\n      }else{\n        if (this.curCodeId == \"\") {\n          this.appService.toast(\"错误的产品条码\");\n        }else{\n          this.postIntegeralCodeApi(text);\n        }\n      }\n     \n    });\n  }\n\n  postCodeIdApi(code){\n    this.appService.httpPost('getScanCodeCasPosSale.api',{code: code}, data => {\n      this.destory = false;\n      this.restartScan();\n      if (data.code == -1) {\n        this.appService.toast(data.msg);\n      } else {\n        let goodMap = data.data.goodMap;\n        this.curCodeId = goodMap.goodsId;\n        this.curGoodName = goodMap.goodsDesc;\n        if (goodMap.tag == 0) {\n          this.hasTraceablityCode = false;\n          this.codeIdVerify();\n        }else{\n          this.hasTraceablityCode = true;\n        }\n      }\n\n    }, true);\n  }\n\n  postIntegeralCodeApi(code){\n    this.destory = false;\n    this.restartScan();\n    this.appService.httpPost('checkIntegralCode.api',{'integralCode': code}, data => {\n        if (data.code == -1) {\n            this.appService.toast(data.msg);\n          } else if (data.code == 1) {\n            this.complain(data.data);\n        }else{\n          this.verifyGoodCode(code);\n        }\n    }, true);\n  }\n\n  complain(data){\n    this.destory = true;\n    let dialog = this.alertCtrl.create({\n      title: '追溯码已出售',\n      message: \"销售门店：\" + data.storeDesc + \"<br>\" + \"商品名称：\" + data.goodsDesc,\n      buttons: [\n        {\n          text: '投诉',\n          handler: () => {\n            this.destory = false;\n            this.navCtrl.push('ComplainFormsPage', { data: data }, {\n              animation: 'md-transition'\n            });\n          }\n        },\n        {\n          text: '取消',\n          handler: () => {\n            this.destory = false;\n          }\n        }\n      ]\n    });\n    dialog.present();\n  }\n\n  codeIdVerify(){\n    var num = 0;\n    var index = -1;\n    let tempArrs = [];\n    if (this.scanType == 1) {\n      tempArrs = this.goods;\n    }else{\n      tempArrs = this.gifts;\n    }\n    for (var i = 0; i < tempArrs.length; ++i) {\n      let map = tempArrs[i];\n      if (map.id == this.curCodeId) {\n        num += 1;\n        if (index == -1) {\n          index = i;\n        }\n      }\n    }\n    if (num == 0) {\n      this.showInputNum(0);\n    }else{\n      if (this.scanType == 1) {\n        this.goods.splice(index,num);\n      }else{\n        this.gifts.splice(index,num);\n      }\n      this.showInputNum(num);\n    }\n    \n  }\n\n  restartScan(){\n    let time = setTimeout(() => {\n      this.scan();\n      clearTimeout(time)\n    }, 500)\n  }\n\n  //验证商品条码是否存在\n  verifyGoodCode(code){\n\n    for (var i = 0; i < this.goods.length; ++i) {\n      if (this.goods[i].code == code) {\n        this.showRepeat(1,i);\n        return;\n      }\n    }\n\n    for (var j = 0; j < this.gifts.length; ++j) {\n      if (this.gifts[j].code == code) {\n        this.showRepeat(2,j);\n        return;\n      }\n    }\n  \n    if (this.scanType == 1) {\n      this.goods.push({'id':this.curCodeId,'code':code});\n      this.goodsNum = this.goods.length;\n    }else{\n      this.showSourceRadio(code,1);\n    }\n  }\n  scanGood() {\n    this.scanType = 1;\n  }\n\n  scanGift() {\n    this.scanType = 2;\n  }\n\n  //提交\n  submit() {\n    if (this.goods.length == 0) {\n      return;\n    }\n    var resultObect = { 'goods': this.goods, 'gifts': this.gifts };\n    this.appService.httpPost('chengeActCasPosSaleOrder.api',{\n        'ids': this.ids,\n        'resultObject': JSON.stringify(resultObect)\n      }\n      , data => {\n        if (data.code == -1) {\n          this.appService.toast(data.msg);\n        } else {\n          this.destory = true;\n          this.qrScanner.hide();\n          this.qrScanner.destroy();\n          this.navCtrl.push('OrderModifyPageTwoPage',{'phone':this.navParams.get('phone')},{\n              animation: 'md-transition'\n            })\n          this.appService.setItem('orderList', data.data);\n        }\n      }, true);\n  }\n\n  showPrompt() {\n    this.destory = true;\n    let prompt = this.alertCtrl.create({\n      title: '手动输入',\n      inputs: [\n        { type: \"text\" },\n      ],\n      buttons: [\n        {\n          text: '取消',\n          handler: data => {\n            this.destory = false;\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            this.destory = false;\n            if (!data[0]) {\n              this.appService.toast('不能为空')\n            } else {\n              if (!this.hasTraceablityCode || data[0].length == 13) {\n                this.postCodeIdApi(data[0]);\n              }else{\n                if (this.curCodeId == \"\") {\n                  this.appService.toast(\"错误的产品条码\");\n                  this.restartScan();\n                }else{\n                  this.postIntegeralCodeApi(data[0]);\n                }\n              }\n\n            }\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  showRepeat(type, pos) {\n    this.destory = true;\n    let confirm = this.alertCtrl.create({\n      title: '提示',\n      message: '该追溯码已存在',\n      buttons: [\n        {\n          text: '删除',\n          handler: () => {\n            this.destory = false;\n            if (type == 1) {\n              this.goods.splice(pos, 1);\n              this.goodsNum = this.goods.length;\n            } else {\n              this.gifts.splice(pos, 1);\n              this.giftsNum = this.gifts.length;\n            }\n          }\n        },\n        {\n          text: '取消',\n          handler: () => {\n            this.destory = false;\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  showInputNum(num) {\n    this.destory = true;\n    let confirm = this.alertCtrl.create({\n      title: '输入数量',\n      inputs: [\n        {\n          type: \"number\",\n          value: num==0?'':num\n        },\n      ],\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: '确定',\n          handler: data => {\n            this.destory = false;\n            if (data[0] == \"\"||data[0] <= 0) {\n              return false;\n            }\n            if (this.scanType == 1) {\n              for (var i = 0; i < parseInt(data[0]); ++i) {\n                this.goods.push({'id':this.curCodeId,'code':'4444'});\n              }\n              this.goodsNum = this.goods.length;\n            } else {\n              this.showSourceRadio('4444',parseInt(data[0]));\n            }\n\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n  showSourceRadio(code,num) {\n    this.destory=true;\n    let alert = this.alertCtrl.create();\n\n    alert.setTitle('选择赠品来源');\n\n    alert.addInput({\n      type: 'radio',\n      label: \"借门店\",\n      value: '0',\n      checked: false\n    });\n\n    alert.addInput({\n      type: 'radio',\n      label: \"其它\",\n      value: '2',\n      checked: true\n    });\n\n    alert.addButton({\n      text: '确定',\n      handler: data => {\n        this.destory = false;\n        for (var i = 0; i < num; ++i) {\n          this.gifts.push({ 'id': this.curCodeId, 'code': code, 'source': data });\n        }\n        this.giftsNum = this.gifts.length;\n      }\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/Order/order-scanner/order-scanner.ts"],"sourceRoot":""}